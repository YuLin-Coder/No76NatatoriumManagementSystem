/*!
 *@name     jquery.barrager.min.js
 *@project  jquery.barrager.js
 *@author   yaseng@uauc.net
 *@project  https://github.com/yaseng/jquery.barrager.js
 */
!function(a){a.fn.barrager=function(b){function m(){var b=a(window).width()+500;return b>k?(k+=1,a(e).css("margin-right",k),void 0):(a(e).remove(),!1)}var c,d,e,f,g,h,i,j,k,l;b=a.extend({close:!0,bottom:0,max:10,speed:6,color:"#fff",old_ie_color:"#000000"},b||{}),c=(new Date).getTime(),d="barrage_"+c,e="#"+d,f=a("<div class='barrage' id='"+d+"'></div>").appendTo(a(this)),g=a(window).height()-100,h=0==b.bottom?Math.floor(Math.random()*g+40):b.bottom,f.css("bottom",h+"px"),div_barrager_box=a("<div class='barrage_box cl'></div>").appendTo(f),b.img&&(div_barrager_box.append("<a class='portrait z' href='javascript:;'></a>"),i=a("<img src='' >").appendTo(e+" .barrage_box .portrait"),i.attr("src",b.img)),div_barrager_box.append(" <div class='z p'></div>"),b.close&&div_barrager_box.append(" <div class='close z'></div>"),j=a("<a title='' href='' target='_blank'></a>").appendTo(e+" .barrage_box .p"),j.attr({href:b.href,id:b.id}).empty().append(b.info),navigator.userAgent.indexOf("MSIE 6.0")>0||navigator.userAgent.indexOf("MSIE 7.0")>0||navigator.userAgent.indexOf("MSIE 8.0")>0?j.css("color",b.old_ie_color):j.css("color",b.color),k=0,f.css("margin-right",k),l=setInterval(m,b.speed),div_barrager_box.mouseover(function(){clearInterval(l)}),div_barrager_box.mouseout(function(){l=setInterval(m,b.speed)}),a(e+".barrage .barrage_box .close").click(function(){a(e).remove()})},a.fn.barrager.removeAll=function(){a(".barrage").remove()}}(jQuery);